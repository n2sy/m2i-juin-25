import{G as C,K as y,L as A,T as N,b as d,ba as E,c,e as f,f as g,fa as M,ga as _,i as s,ia as j,ja as D,l as b,la as F,na as P,oa as V,pa as w,q as e,r as t,s as o,t as v,u as S,ua as h,w as p,x as n,ya as q,z as x}from"./chunk-FF6NZJJV.js";var I=class u{candSer=d(M);router=d(E);estSoumis=!1;ajouterHandler(a,r){this.estSoumis=!0,console.log(a.target[4].files[0]);let l=new FormData;l.set("avatar",a.target[4].files[0]),this.candSer.uploadAvatar(l).subscribe({next:i=>{r.avatar=i.fileName,this.candSer.addCandidatAPI(r).subscribe({next:m=>{alert(m.message),this.router.navigateByUrl("/cv")},error:m=>{console.log("Probl\xE8me avec l'ajout d'un candidat")}})},error:i=>{console.log("Probl\xE8me avec l'upload de l'avatar")}})}static \u0275fac=function(r){return new(r||u)};static \u0275cmp=c({type:u,selectors:[["app-add"]],standalone:!0,features:[C],decls:23,vars:4,consts:[["f","ngForm"],[3,"ngSubmit"],["for",""],["ngModel","","required","","name","prenom","type","text",1,"form-control"],["ngModel","","required","","name","nom","type","text",1,"form-control"],["ngModel","","name","age","type","number",1,"form-control"],["ngModel","","name","profession","type","text",1,"form-control"],["type","file",1,"form-control"],[1,"btn","btn-outline-primary",3,"disabled"]],template:function(r,l){if(r&1){let i=v();e(0,"form",1,0),S("ngSubmit",function(B){f(i);let G=p(1);return g(l.ajouterHandler(B,G.value))}),e(2,"label",2),n(3,"Pr\xE9nom"),t(),o(4,"input",3),e(5,"label",2),n(6,"Nom"),t(),o(7,"input",4),e(8,"label",2),n(9,"Age"),t(),o(10,"input",5),e(11,"label",2),n(12,"Profession"),t(),o(13,"input",6),e(14,"label",2),n(15,"avatar"),t(),o(16,"input",7),e(17,"pre"),n(18),y(19,"json"),t(),o(20,"br"),e(21,"button",8),n(22," Ajouter Candidat "),t()()}if(r&2){let i=p(1);s(18),x("    ",A(19,2,i.value),`
  `),s(3),b("disabled",i.invalid)}},dependencies:[q,V,_,w,j,D,h,P,F,N]})};export{I as AddComponent};
